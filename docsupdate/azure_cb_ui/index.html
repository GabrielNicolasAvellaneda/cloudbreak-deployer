<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        
        
        <link rel="canonical" href="http://sequenceiq.com/cloudbreak-deployer/azure_cb_ui/">
        <link rel="shortcut icon" href="../img/favicon.ico">

	<title>Provisioning - UI - Cloudbreak Deployer</title>

        <link href="../css/bootstrap-custom.min.css" rel="stylesheet">
        <link href="../css/font-awesome-4.0.3.css" rel="stylesheet">
        <link href="../css/base.css" rel="stylesheet">
        <link rel="stylesheet" href="../css/highlight.css">

        <!-- HTML5 shim and Respond.js IE8 support of HTML5 elements and media queries -->
        <!--[if lt IE 9]>
            <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
            <script src="https://oss.maxcdn.com/libs/respond.js/1.3.0/respond.min.js"></script>
        <![endif]-->

        
    </head>

    <body>

        <div class="navbar navbar-default navbar-fixed-top" role="navigation" background="red">
    <div class="container">

        <!-- Collapsed navigation -->
        <div class="navbar-header">
            
            <!-- Expander button -->
            <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-collapse">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
            </button>
            

            <!-- Main title -->
            <img class="navbar-logo" src="http://docs.hortonworks.com/HDPDocuments/Ambari-2.1.0.0/bk_Installing_HDP_AMB/common/images/hortonworks-logo.png" alt="Hortonworks Documentation" width="132" height="52">
            <a class="navbar-brand" href="..">Cloudbreak Deployer</a>
        </div>

        <!-- Expanded navigation -->
        <div class="navbar-collapse collapse">
            
                <!-- Main navigation -->
                <ul class="nav navbar-nav">
                
                
                    <li >
                        <a href="..">Overview</a>
                    </li>
                
                
                
                    <li class="dropdown active">
                        <a href="#" class="dropdown-toggle" data-toggle="dropdown">Providers <b class="caret"></b></a>
                        <ul class="dropdown-menu">
                        
                            
  <li class="dropdown-submenu">
    <a tabindex="-1" href="">AWS</a>
    <ul class="dropdown-menu">
        
            
<li >
    <a href="../aws/">Deployment</a>
</li>

        
            
<li >
    <a href="../aws_cb_ui/">Provisioning - UI</a>
</li>

        
            
<li >
    <a href="../aws_cb_shell/">Provisioning - CLI</a>
</li>

        
    </ul>
  </li>

                        
                            
  <li class="dropdown-submenu">
    <a tabindex="-1" href="">Azure</a>
    <ul class="dropdown-menu">
        
            
<li >
    <a href="../azure/">Deployment</a>
</li>

        
            
<li class="active">
    <a href="./">Provisioning - UI</a>
</li>

        
            
<li >
    <a href="../azure_cb_shell/">Provisioning - CLI</a>
</li>

        
    </ul>
  </li>

                        
                            
  <li class="dropdown-submenu">
    <a tabindex="-1" href="">GCP</a>
    <ul class="dropdown-menu">
        
            
<li >
    <a href="../gcp/">Deployment</a>
</li>

        
            
<li >
    <a href="../gcp_cb_ui/">Provisioning - UI</a>
</li>

        
            
<li >
    <a href="../gcp_cb_shell/">Provisioning - CLI</a>
</li>

        
    </ul>
  </li>

                        
                            
  <li class="dropdown-submenu">
    <a tabindex="-1" href="">OpenStack</a>
    <ul class="dropdown-menu">
        
            
<li >
    <a href="../openstack/">Deployment</a>
</li>

        
            
<li >
    <a href="../openstack_cb_ui/">Provisioning - UI</a>
</li>

        
            
<li >
    <a href="../openstack_cb_shell/">Provisioning - CLI</a>
</li>

        
    </ul>
  </li>

                        
                        </ul>
                    </li>
                
                
                
                    <li class="dropdown">
                        <a href="#" class="dropdown-toggle" data-toggle="dropdown">Docs <b class="caret"></b></a>
                        <ul class="dropdown-menu">
                        
                            
<li >
    <a href="../api/">API</a>
</li>

                        
                            
<li >
    <a href="../shell/">Shell</a>
</li>

                        
                            
<li >
    <a href="../recipes/">Recipes</a>
</li>

                        
                            
<li >
    <a href="../spi/">SPI</a>
</li>

                        
                            
<li >
    <a href="../kerberos/">Kerberos</a>
</li>

                        
                            
<li >
    <a href="../database/">Migration</a>
</li>

                        
                            
<li >
    <a href="../configuration/">Configuration</a>
</li>

                        
                            
<li >
    <a href="../development/">Development</a>
</li>

                        
                            
<li >
    <a href="../changelog/">Changelog</a>
</li>

                        
                        </ul>
                    </li>
                
                
                </ul>
            

            <ul class="nav navbar-nav navbar-right">
                <li class="dropdown">
                    <a href="#" class="dropdown-toggle" data-toggle="dropdown">Versions <b class="caret"></b></a>
                    <ul class="dropdown-menu" id="versions-dropdown">
                    </ul>
                </li>
                
                <li>
                    <a href="#" data-toggle="modal" data-target="#mkdocs_search_modal">
                        <i class="fa fa-search"></i> Search
                    </a>
                </li>
                
                    <li >
                        <a rel="next" href="../azure/">
                            <i class="fa fa-arrow-left"></i> Previous
                        </a>
                    </li>
                    <li >
                        <a rel="prev" href="../azure_cb_shell/">
                            Next <i class="fa fa-arrow-right"></i>
                        </a>
                    </li>
                
                
            </ul>
        </div>
    </div>
</div>

        <div class="container">
            
                <div class="col-md-3"><div class="bs-sidebar hidden-print affix well" role="complementary">
    <ul class="nav bs-sidenav">
    
        <li class="main active"><a href="#manage-cloud-credentials">Manage cloud credentials</a></li>
        
    
        <li class="main "><a href="#manage-resources">Manage resources</a></li>
        
    
        <li class="main "><a href="#manage-blueprints">Manage blueprints</a></li>
        
    
        <li class="main "><a href="#manage-networks">Manage networks</a></li>
        
    
        <li class="main "><a href="#manage-security-groups">Manage security groups</a></li>
        
    
        <li class="main "><a href="#create-a-cluster">Create a cluster</a></li>
        
    
    </ul>
</div></div>
                <div class="col-md-9" role="main">

<p>Once Cloudbreak is up and running you can launch clusters in two different ways. You can use the <a href="./">Cloudbreak UI</a> or use the <a href="../azure_cb_shell/">Cloudbreak shell</a>.</p>
<h2 id="manage-cloud-credentials">Manage cloud credentials</h2>
<p>You can now log into the Cloudbreak application at http://PUBLIC_IP:3000. Once logged in go to <strong>Manage credentials</strong>. Using manage credentials will  link your cloud account with the Cloudbreak account.</p>
<p><code>Name:</code> name of your credential</p>
<p><code>Description:</code> short description of your linked credential</p>
<p><code>Subscription Id:</code> your Azure subscription id - see Accounts (Browse all&gt; Subscription)</p>
<p><code>Password:</code> your password which was setted up when you create the AD app</p>
<p><code>App ID:</code> You app Id (Browse all&gt; Subscription&gt; Subscription detail&gt; Users&gt; You application&gt; Properties)</p>
<p><code>App Owner Tenant ID:</code> You Tenant Id (Browse all&gt; Subscription&gt; Subscription detail&gt; Users&gt; You application&gt; Properties)</p>
<p><code>SSH certificate:</code> the SSH public certificate in OpenSSH format that's private keypair can be used to log into the launched instances later (The key generation process is described in the Configuring the Microsoft Azure account section)</p>
<p>The ssh username is <strong>cloudbreak</strong></p>
<h2 id="manage-resources">Manage resources</h2>
<p>Using manage resources you can create infrastructure templates. Templates describes the infrastructure where the HDP cluster will be provisioned. We support heterogenous clusters - this means that one cluster can be built by combining different templates.</p>
<p><code>Name:</code> name of your template</p>
<p><code>Description:</code> short description of your template</p>
<p><code>Instance type:</code> the Amazon instance type to be used - we suggest to use at least small or medium instances</p>
<p><code>Volume type:</code> option to choose are SSD, regular HDD (both EBS) or Ephemeral</p>
<p><code>Attached volumes per instance:</code> the number of disks to be attached</p>
<p><code>Volume size (GB):</code> the size of the attached disks (in GB)</p>
<p><code>Spot price:</code> option to set a spot price - not mandatory, if specified we will request spot price instances (which might take a while or never be fulfilled by Amazon)</p>
<p><code>EBS encryption:</code> this feature is supported with all EBS volume types (General Purpose (SSD), Provisioned IOPS (SSD), and Magnetic</p>
<p><code>Public in account:</code> share it with others in the account</p>
<h2 id="manage-blueprints">Manage blueprints</h2>
<p>Blueprints are your declarative definition of a Hadoop cluster.</p>
<p><code>Name:</code> name of your blueprint</p>
<p><code>Description:</code> short description of your blueprint</p>
<p><code>Source URL:</code> you can add a blueprint by pointing to a URL. As an example you can use this <a href="https://github.com/sequenceiq/ambari-rest-client/raw/1.6.0/src/main/resources/blueprints/multi-node-hdfs-yarn">blueprint</a>.</p>
<p><code>Manual copy:</code> you can copy paste your blueprint in this text area</p>
<p><code>Public in account:</code> share it with others in the account</p>
<h2 id="manage-networks">Manage networks</h2>
<p>Manage networks allows you to create or reuse existing networks and configure them.</p>
<p><code>Name:</code> name of the network</p>
<p><code>Description:</code> short description of your network</p>
<p><code>Subnet (CIDR):</code> a subnet in the VPC with CIDR block</p>
<p><code>Address prefix (CIDR):</code> the address space that is used for subnets</p>
<p><code>Public in account:</code> share it with others in the account</p>
<h2 id="manage-security-groups">Manage security groups</h2>
<p>Security groups allows configuration of traffic/access to the cluster. Currently there are two default groups, and later versions will allow setup of new groups.</p>
<p><code>only-ssh-and-ssl:</code> all ports are locked down (you can't access Hadoop services outside of the VPN) but SSH (22) and HTTPS (443)</p>
<p><code>all-services-port:</code> all Hadoop services + SSH/HTTP are accessible by default: SSH (22) HTTPS (443) 8080 (Ambari) 8500 (Consul) 50070 (NN) 8088 (RM Web) 8030 (RM Scheduler) 8050 (RM IPC) 19888 (Job history server) 60010 (HBase master) 15000 (Falcon) 8744 (Storm) 11000 (Oozie) 18080 (Spark HS) 8042 (NM Web) 9996 (Zeppelin WebSocket) 9995 (Zeppelin UI) 3080 (Kibana) 9200 (Elasticsearch)</p>
<h2 id="create-a-cluster">Create a cluster</h2>
<p>Using the create cluster functionality Cloudbreak will create a cloud Stack and a Hadoop Cluster. In order to create a cluster you will have to select a credential first.</p>
<p><code>Cluster name:</code> your cluster name</p>
<p><code>Region:</code> the region where the cluster is started</p>
<p><code>Network:</code> the network template</p>
<p>`Security Group:" the security group</p>
<p><code>Blueprint:</code> your Hadoop cluster blueprint. Once the blueprint is selected we parse it and give you the option to select the followings for each <strong>hostgroup</strong>.</p>
<p><code>Hostgroup configuration</code></p>
<p><code>Group size:</code> the number of instances to be started</p>
<p><code>Template:</code> the stack template associated to the hostgroup</p>
<p><code>DASH Account Name:</code> values printed by Cloudbreak deployer when the DASH service was deployed</p>
<p><code>DASH Account Key:</code> values printed by Cloudbreak deployer when the DASH service was deployed</p>
<p><strong>Important:</strong> For better performance DASH service and the Cloudbreak cluster must be in the same Azure region.</p>
<p><code>Enable security:</code> Install KDC and Kerberize the cluster</p>
<p><code>Public in account:</code> share it with others in the account</p>
<p><strong>Advanced features</strong>:</p>
<p><code>Consul server count:</code> the number of Consul servers (odd number), by default is 3. It varies with the cluster size.</p>
<p><code>Minimum cluster size:</code> the provisioning strategy in case of the cloud provider can't allocate all the requested nodes</p>
<p><code>Validate blueprint:</code> feature to validate or not the Ambari blueprint. By default is switched on.</p>
<p><code>Ambari Repository config:</code> you can take the stack RPM's from a custom stack repository</p>
<p>Once you have launched the cluster creation you can track the progress either on Cloudbreak UI or your cloud provider management UI.</p></div>
            
        </div>

        <footer class="col-md-12">
            <hr>
            
            <center>Documentation built with <a href="https://gliderlabs.com/pagebuilder">Pagebuilder</a>.</center>
        </footer>

        <script src="../js/jquery-1.10.2.min.js"></script>
        <script src="../js/bootstrap-3.0.3.min.js"></script>
        <script src="../js/highlight.pack.js"></script>
        <script>var base_url = '..';</script>
        <script data-main="../mkdocs/js/search.js" src="../mkdocs/js/require.js"></script>
        <script src="../js/base.js"></script>

        <div class="modal" id="mkdocs_search_modal" tabindex="-1" role="dialog" aria-labelledby="Search Modal" aria-hidden="true">
            <div class="modal-dialog">
                <div class="modal-content">
                    <div class="modal-header">
                        <button type="button" class="close" data-dismiss="modal"><span aria-hidden="true">&times;</span><span class="sr-only">Close</span></button>
                        <h4 class="modal-title" id="exampleModalLabel">Search</h4>
                    </div>
                    <div class="modal-body">
                        <p>
                            From here you can search these documents. Enter
                            your search terms below.
                        </p>
                        <form role="form">
                            <div class="form-group">
                                <input type="text" class="form-control" placeholder="Search..." id="mkdocs-search-query">
                            </div>
                        </form>
                        <div id="mkdocs-search-results"></div>
                    </div>
                    <div class="modal-footer">
                    </div>
                </div>
            </div>
        </div>

         <script>
           $( document ).ready(function() {
               $.getJSON("http://sequenceiq.com/cloudbreak-deployer/versions.json", function(data) {
               $("#versions-dropdown").append('<li><a href="http://sequenceiq.com/cloudbreak-deployer/latest">latest ('+data.latest+')</a></li>');
                $.each(data.versions, function( index, value ) {
                  $("#versions-dropdown").append('<li><a href="http://sequenceiq.com/cloudbreak-deployer/'+value+'">'+value+'</a></li>');
                });
               });
           });
         </script>
    </body>
</html>
